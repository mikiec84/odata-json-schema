# Tools

Tools for transforming [OData CSDL XML](http://docs.oasis-open.org/odata/odata-csdl-xml/v4.01/odata-csdl-xml-v4.01.html) ($metadata) files into JSON Schema documents.

The core ingredient is the [`V4-CSDL-to-JSONSchema.xsl`](V4-CSDL-to-JSONSchema.xsl) transformation. 

## `transform.cmd` for Windows Command

This script transforms all XML files given as parameters into JSON Schema documents and verifies that the produced JSON Schema documents are well-formed.

### Installation

The prerequisites are listed within [`transform.cmd`](transform.cmd). It's quite a lot:
- [Java SE](http://www.oracle.com/technetwork/java/javase/downloads/index.html) is installed and in the `PATH`
- [git](https://git-for-windows.github.io/) is installed and in the `PATH`
- [Eclipse](https://www.eclipse.org/) is installed with Xalan (contained in Eclipse Web Tools Platform or the [Eclipse IDE for JavaScript and Web Developers](http://www.eclipse.org/downloads/packages/eclipse-ide-javascript-and-web-developers/oxygen1a) package), and `ECLIPSE_HOME` environment variable is set  
  Alternative: [Xalan](http://xalan.apache.org/xalan-j/downloads.html) is installed and `CLASSPATH` contains `xalan.jar` and `serializer.jar`
- [YAJL](https://github.com/lloyd/yajl)'s `json_reformat` has been compiled and is in the `PATH`
- [Node.js](https://nodejs.org/) is installed
- [ajv-cli](https://www.npmjs.com/package/ajv-cli) is installed

### Usage

In the `tools` folder execute
```cmd
transform ..\examples\*.xml
```


## `validate.cmd` for Windows Command

This script validates example OData responses against the JSON Schema documents generated by `transform.cmd`.

### Usage

In the `tools` folder execute
```cmd
validate
```